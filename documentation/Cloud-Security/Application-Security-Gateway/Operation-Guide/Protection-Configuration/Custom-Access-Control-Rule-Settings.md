# 自定义访问控制规则

**功能描述**

​    自定义访问控制规则对常见的HTTP头部字段进行条件组合，对用户访问进行过滤，可以对命中自定义规则的请求进行拦截或告警操作。精确访问控制支持业务场景定制化的防护策略，用进行访问源IP黑白名单控制，可用于盗链防护、网站管理后台保护等。

**说明**

​    自定义访问控制规则由匹配字段、逻辑符、匹配内容三个要素组成。在创建规则时，通过设置匹配字段、逻辑符和相应的匹配内容定义匹配条件，并针对符合匹配条件规则的访问请求定义相应的动作。

​    当前支持匹配字段包括：UerAgent、Referer、Path、IP、Cookie和URL

​    逻辑符：包含或者不包含

**操作步骤**

​    1、进入控制台实例管理页面，点击防护配置接入防护选项卡配置页面，点击自定义访问控制规则进行设置。

![image.png](https://img1.jcloudcs.com/cms/285d2034-758f-41e8-adde-2b0b8faea99920180817103036.png)

​    2、点击添加规则，进入规则添加页面。

![image.png](https://img1.jcloudcs.com/cms/5e093e9f-47e5-431b-94eb-4f4c5c39d39520180817103804.png)

字段说明：

​    **优先级**：当前规则的优先级，需要进行手工指定，匹配顺序按照优先级进项匹配。

​    **配置名称**：规则的名称。

​    **动作**：根据需要对规则的动作进行选择。

​    **开关设置**：设置当前自定义规则是否开启。

​    **匹配字段**：对需要进行过滤的字段进行设置。

​    **逻辑符**：选择判断条件。

​    **匹配内容**：选择匹配关键字段。

3、填写相关信息完成后，进入实例管理页面，查看已经创建的规则。

4、规则触发之后，可以到分析报表-自定义访问控制规则报表页面查看匹配信息。

 