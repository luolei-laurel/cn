# 支持IAM的云产品

访问控制旨在支持京东云上所有的云产品和服务进行子用户和角色对资源的操作的控制。本文主要罗列了目前接入IAM的云产品有哪些，以及他们相应的接入方式和具体细节。

表中的信息定义如下:

- 云产品：京东云中的云产品或者服务的名称。

- Service Name：京东云中的云产品的唯一标识。

- 策略版本：v2 或者v3

> 目前IAM策略支持两个版本，v2和v3。
>
> v2： 这个版本是IAM的初始版本，只能支持到只读（R），修改（M），删除（D）粒度的权限控制。这个版本目前不再进行迭代，目前已经接入的云产品后续将全部更新成v3。
>
> v3：这个版本是IAM的更新版本，目前能够支持服务级，操作级，资源级的权限控制，后续接入IAM的云产品将统一采用此种方式进行权限判断。

- Open API：当前产品是否支持IAM进行权限管理，“✔”表示支持，“-”表示暂不支持。

- 控制台：当前产品是否支持IAM进行权限管理，“✔”表示支持，“-”表示暂不支持。

- 授权粒度：当前产品支持的权限控制粒度。

> 其中授权粒度按照粒度粗细分为服务级、操作级和资源级三个级别。
>
> - 服务级：定义对服务的整体是否拥有访问权限，分为允许对云产品拥有全部操作权限或者拒绝对云产品拥有全部操作权限。
> - 操作级：定义对云产品的特定接口（API）是否拥有访问权限，例：授权子用户能够读取IAM中策略列表。
> - 资源级：定义对特定资源是否有访问权限，这是最细的授权粒度，例：授权子用户能够编辑IAM中的策略详情。

#### 支持策略v2的云产品:
|  **云产品**  | **Service Name** | **策略版本** | **Open API** | **控制台** | **授权粒度** | **用户角色** | **服务角色** |
| :----------: | :--------------: | :------: | :------: | :----: | :------: | :------: | :------: |
|    云主机    |      server      |    v2    |    ✔     |   ✔    |   －     |   －   |    －     |
|    云镜像    |      image       |    v2    |    ✔     |   ✔    |    －    |   －    |    －     |
|    云硬盘    |      volume      |    v2    |    ✔     |   ✔    |    －    |   －    |    －    |
|    公网IP    |    floatingIp    |    v2    |    ✔     |   ✔    |    －    |    －     |    －   |
|   云数据库   |     database     |    v2    |    ✔     |   ✔    |    －    |    －   |    －    |
|    云缓存    |      cache       |    v2    |    ✔     |   ✔    |   －   |    －    |   －     |
|     VPC      |       vpc        |    v2    |    ✔     |   ✔    |    －    |   －    |   －     |


#### 支持策略v3的云产品:
##### 弹性计算
|  **云产品**  | **Service Name** | **策略版本** | **Open API** | **控制台** | **授权粒度** | **用户角色** | **服务角色** |
| :----------: | :--------------: | :------: | :------: | :----: | :------: | :------: | :------: |
| 容器镜像仓库  |       containerregistry        |    v3    |    ✔     |   ✔    |  资源级  |   －     |    －    |
|     POD      |       pod        |    v3    |    ✔     |   ✔    |  资源级  |    －    |   －    |
##### 网络
|  **云产品**  | **Service Name** | **策略版本** | **Open API** | **控制台** | **授权粒度** | **用户角色** | **服务角色** |
| :----------: | :--------------: | :------: | :------: | :----: | :------: | :------: | :------: |
|   负载均衡   |        lb        |    v3    |    ✔     |   ✔    |  资源级  |   －    |   －     |
##### 存储与CDN
|  **云产品**  | **Service Name** | **策略版本** | **Open API** | **控制台** | **授权粒度** | **用户角色** | **服务角色** |
| :----------: | :--------------: | :------: | :------: | :----: | :------: | :------: | :------: |
| 对象存储  |     oss       |    v3    |    ✔     |   ✔    |  资源级  |   －     |    －    |
##### 云安全
|  **云产品**  | **Service Name** | **策略版本** | **Open API** | **控制台** | **授权粒度** | **用户角色** | **服务角色** |
| :----------: | :--------------: | :------: | :------: | :----: | :------: | :------: | :------: |
|   主机安全   |       hips       |    v3    |    ✔     |   ✔    |  操作级  |   －     |   －   |
| DDoS基础防护 |     baseanti     |    v3    |    ✔     |   ✔    |  资源级  |   －    |   －    |
|   态势感知   |       csa        |    v3    |    ✔     |   ✔    |  操作级  |   －     |   －     |
| 应用安全网关 |       sgw        |    v3    |    ✔     |   ✔    |  资源级  |   －     |    －     |
|SSL数字证书 |    ssl      |    v3    |    ✔     |   ✔    |  资源级  |   ✔    |    －    |
##### 管理
|  **云产品**  | **Service Name** | **策略版本** | **Open API** | **控制台** | **授权粒度** | **用户角色** | **服务角色** |
| :----------: | :--------------: | :------: | :------: | :----: | :------: | :------: | :------: |
| 目录服务 |     directoryservice     |    v3    |    ✔     |   ✔    |  资源级  |   ✔    |    ✔   |
|安全令牌服务 |    sts     |    v3    |    ✔     |   ✔    |  资源级  |    －    |    －   |
##### 互联网中间件
|  **云产品**  | **Service Name** | **策略版本** | **Open API** | **控制台** | **授权粒度** | **用户角色** | **服务角色** |
| :----------: | :--------------: | :------: | :------: | :----: | :------: | :------: | :------: |
| 消息队列JCQ |     jcq    |    v3    |    ✔     |   ✔    |  资源级  |   －   |  －   |
##### 费用中心
|  **云产品**  | **Service Name** | **策略版本** | **Open API** | **控制台** | **授权粒度** | **用户角色** | **服务角色** |
| :----------: | :--------------: | :------: | :------: | :----: | :------: | :------: | :------: |
| 下单支付权限  |      order       |    v3    |   ✔       |  ✔     |  操作级  |   －     |    －    |
##### 大数据与分析
|  **云产品**  | **Service Name** | **策略版本** | **Open API** | **控制台** | **授权粒度** | **用户角色** | **服务角色** |
| :----------: | :--------------: | :------: | :------: | :----: | :------: | :------: | :------: |
| 数据工厂2.0  |       datafactory       |    v3    |   －      |  －    |  服务级  |   －     |    －    |
