# 产品功能
## 分布式网络负载均衡实例
分布式网络负载均衡实例是京东云推出的负载均衡的逻辑实体，用于提供分布式、四层、无状态的负载均衡服务。用户可根据场景需求将实例绑定或解绑公网IP，自由切私网或公网负载均衡。实例通过绑定公网IP的方式提供负载均衡服务，可隐藏内部网络结构，提高系统安全性。
## 监听器
以协议类型（目前仅支持TCP协议）和端口号作为监听规则，只有匹配协监听规则的客户端服务请求才会经过分布式网络负载均衡分发到后端服务器。用户在同一个分布式网络负载均衡内可以定义多个监听器，不同监听器可以选择不同协议类型不同端口号或相同协议类型不同端口号。
## 后端服务
### 服务规则
定义后端服务器接收服务请求的协议类型与端口号。该端口号为全局端口号，对后端服务下的所有后端服务器生效。

* 当后端服务关联虚拟服务器组时，如果虚拟服务器组中注册的后端服务器（云主机或容器实例）定义了端口号，分布式网络负载均衡将使用后端服务器定义的端口号向其转发报文；否则，分布式网络负载均衡将使用后端服务定义的端口号向组内后端服务器转发报文。

* 当后端服务关联高可用组时，高可用组内的后端服务器不允许定义端口号，因此分布式网络负载均衡将使用后端服务定义的端口号向组内后端服务器转发报文。

### 调度算法
支持加权源IP和加权五元组两种调度算法。可根据自身业务需求选择合适的算法进行流量分发。同时可根据后端服务器性能配置权重（权重值通过向虚拟服务器组注册实例时设置），高配置的服务器可设置更高的权重，承载更多的访问流量，当后端服务关联高可用组时，高可用组内所有实例的权重相同。
### 源IP透传
目前分布式网络负载均衡缺省能够把客户端的源IP透传到后端服务器，不需用户特殊干预与配置。
### 健康检查
分布式网络负载均衡通过健康检查定时检测后端服务器的运行状况，可自定义检测频率与健康/不健康判断条件。开启健康检查后，当后端服务器运行异常时，分布式网络负载均衡将停止向其分发流量，且将流量分发给其他运行正常的后端服务器，异常后端服务器恢复正常后，分布式网络负载均衡再继续向其分发流量。
### 服务关联
每个后端服务当前可以关联一个虚拟服务器组或高可用组。
## 虚拟服务器组
### 注册/取消注册后端服务器
用户可手动向虚拟服务器组添加或删除后端服务器。后端服务器包括云主机实例和容器实例两种。
### 后端服务器的端口定义
向虚拟服务器组注册后端服务器时，如果后端服务器定义了端口号，分布式网络负载均衡将使用后端服务器定义的端口向其转发报文；否则，分布式网络负载均衡将使用后端服务定义的端口号向后端服务器转发报文。
### 后端服务器的权重定义
向虚拟服务器组注册后端服务器时，如果定义了权重，分布式网络负载均衡将按照后端服务定义的调度算法+实例定义的权重进行报文的加权转发。
### 关联AS（Auto Scaling ）
负载均衡的虚拟服务器组可以通过关联AS，以实现后端服务器的自动弹性伸缩。AS的弹性伸缩为可用区（AZ）级的资源分配调度，不考虑机房内（例如跨机架）的高可用。
## 高可用组
高可用组功能不属于负载均衡，但可以与负载均衡的后端服务关联。高可用组具备弹性伸缩能力，可根据业务负载情况自动调节后端服务器数量，以提供跨AZ及机房内跨机架的细粒度高可用服务能力。
## 相关参考

- [产品概述](../Introduction/Product-Overview.md)
- [产品规格](../Introduction/Specifications.md)
- [产品定价](../Pricing/Billing-Overview.md)
- [创建DNLB实例](../Getting-Started/Create-Instance.md)
- [创建虚拟服务器组](../Operation-Guide/TargetGroup-Management.md)
- [配置监听策略](../Operation-Guide/Listener-Management.md)
- [管理后端服务与查看服务实例健康状态](../Operation-Guide/Backend-Management.md)

